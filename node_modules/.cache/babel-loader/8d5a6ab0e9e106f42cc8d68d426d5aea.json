{"ast":null,"code":"import { fromJS } from 'immutable';\nimport * as constants from './constants';\nvar defaultState = fromJS({\n  topicList: [],\n  articleList: [],\n  recommendList: [],\n  authors: [{\n    id: 1,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/14247466/9470ac0b-61a7-4d3f-872e-e0c6f2ff5d7a.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96/format/webp'\n  }, {\n    id: 2,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/14799774/4892a0b7-b6d5-4ef4-88b7-d4eab2319efe?imageMogr2/auto-orient/strip|imageView2/1/w/120/h/120'\n  }, {\n    id: 3,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/22609/cd56e2a2-4245-45ea-892e-23c4eb8274bf.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96/format/webp'\n  }, {\n    id: 4,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/13912264/751fad51-ffce-45c1-a629-0932a85de27a.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96/format/webp'\n  }, {\n    id: 5,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/11499568/b6c49855-229b-4984-8097-6731dbafbd25.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96/format/webp'\n  }],\n  articlePage: 1,\n  showScroll: false\n});\n\nvar changeHomeData = function changeHomeData(state, action) {\n  return state.merge({\n    topicList: fromJS(action.topicList),\n    //这里是用fromJS将接收到的普通的JS数据m转换为immutable类型,防止数据类型改变\n    articleList: fromJS(action.articleList),\n    recommendList: fromJS(action.recommendList)\n  });\n};\n\nvar changeHomeList = function changeHomeList(state, action) {\n  return state.merge({\n    articleList: state.get('articleList').concat(action.list),\n    articlePage: action.nextPage\n  });\n};\n\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case constants.CHANGE_HOME_DATA:\n      return changeHomeData(state, action);\n\n    case constants.CHANGE_HOME_LIST:\n      // return state.set('articleList',state.get('articleList').concat(action.list))\n      return changeHomeList(state, action);\n\n    case constants.TOGGLE_SCROLL_TOP:\n      return state.set('showScroll', action.show);\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/lin/Downloads/React-JianShu-master/src/pages/home/store/reducer.js"],"names":["fromJS","constants","defaultState","topicList","articleList","recommendList","authors","id","title","desc","imgUrl","articlePage","showScroll","changeHomeData","state","action","merge","changeHomeList","get","concat","list","nextPage","type","CHANGE_HOME_DATA","CHANGE_HOME_LIST","TOGGLE_SCROLL_TOP","set","show"],"mappings":"AAAA,SAASA,MAAT,QAAuB,WAAvB;AACA,OAAO,KAAKC,SAAZ,MAA2B,aAA3B;AAEA,IAAMC,YAAY,GAAGF,MAAM,CAAC;AAC1BG,EAAAA,SAAS,EAAE,EADe;AAE1BC,EAAAA,WAAW,EAAE,EAFa;AAG1BC,EAAAA,aAAa,EAAE,EAHW;AAI1BC,EAAAA,OAAO,EAAE,CAAC;AACRC,IAAAA,EAAE,EAAE,CADI;AAERC,IAAAA,KAAK,EAAE,OAFC;AAGRC,IAAAA,IAAI,EAAE,kBAHE;AAIRC,IAAAA,MAAM,EAAE;AAJA,GAAD,EAKP;AACAH,IAAAA,EAAE,EAAE,CADJ;AAEAC,IAAAA,KAAK,EAAE,OAFP;AAGAC,IAAAA,IAAI,EAAE,kBAHN;AAIAC,IAAAA,MAAM,EAAE;AAJR,GALO,EAUP;AACAH,IAAAA,EAAE,EAAE,CADJ;AAEAC,IAAAA,KAAK,EAAE,OAFP;AAGAC,IAAAA,IAAI,EAAE,kBAHN;AAIAC,IAAAA,MAAM,EAAE;AAJR,GAVO,EAeP;AACAH,IAAAA,EAAE,EAAE,CADJ;AAEAC,IAAAA,KAAK,EAAE,OAFP;AAGAC,IAAAA,IAAI,EAAE,kBAHN;AAIAC,IAAAA,MAAM,EAAE;AAJR,GAfO,EAoBP;AACAH,IAAAA,EAAE,EAAE,CADJ;AAEAC,IAAAA,KAAK,EAAE,OAFP;AAGAC,IAAAA,IAAI,EAAE,kBAHN;AAIAC,IAAAA,MAAM,EAAE;AAJR,GApBO,CAJiB;AA8B1BC,EAAAA,WAAW,EAAE,CA9Ba;AA+B1BC,EAAAA,UAAU,EAAE;AA/Bc,CAAD,CAA3B;;AAkCA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAQC,MAAR,EAAmB;AACxC,SAAOD,KAAK,CAACE,KAAN,CAAY;AACjBb,IAAAA,SAAS,EAAEH,MAAM,CAACe,MAAM,CAACZ,SAAR,CADA;AACmB;AACpCC,IAAAA,WAAW,EAAEJ,MAAM,CAACe,MAAM,CAACX,WAAR,CAFF;AAGjBC,IAAAA,aAAa,EAAEL,MAAM,CAACe,MAAM,CAACV,aAAR;AAHJ,GAAZ,CAAP;AAKD,CAND;;AAQA,IAAMY,cAAc,GAAG,SAAjBA,cAAiB,CAACH,KAAD,EAAQC,MAAR,EAAmB;AACxC,SAAOD,KAAK,CAACE,KAAN,CAAY;AACjBZ,IAAAA,WAAW,EAAEU,KAAK,CAACI,GAAN,CAAU,aAAV,EAAyBC,MAAzB,CAAgCJ,MAAM,CAACK,IAAvC,CADI;AAEjBT,IAAAA,WAAW,EAAEI,MAAM,CAACM;AAFH,GAAZ,CAAP;AAID,CALD;;AAOA,gBAAe,YAAkC;AAAA,MAAjCP,KAAiC,uEAAzBZ,YAAyB;AAAA,MAAXa,MAAW;;AAC/C,UAAOA,MAAM,CAACO,IAAd;AACE,SAAKrB,SAAS,CAACsB,gBAAf;AACE,aAAOV,cAAc,CAACC,KAAD,EAAQC,MAAR,CAArB;;AACF,SAAKd,SAAS,CAACuB,gBAAf;AACE;AACA,aAAOP,cAAc,CAACH,KAAD,EAAQC,MAAR,CAArB;;AACF,SAAKd,SAAS,CAACwB,iBAAf;AACE,aAAOX,KAAK,CAACY,GAAN,CAAU,YAAV,EAAwBX,MAAM,CAACY,IAA/B,CAAP;;AACF;AACE,aAAOb,KAAP;AATJ;AAWD,CAZD","sourcesContent":["import { fromJS } from 'immutable';\nimport * as constants from './constants';\n\nconst defaultState = fromJS({\n  topicList: [],\n  articleList: [],\n  recommendList: [],\n  authors: [{\n    id: 1,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/14247466/9470ac0b-61a7-4d3f-872e-e0c6f2ff5d7a.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96/format/webp'\n  },{\n    id: 2,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/14799774/4892a0b7-b6d5-4ef4-88b7-d4eab2319efe?imageMogr2/auto-orient/strip|imageView2/1/w/120/h/120'\n  },{\n    id: 3,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/22609/cd56e2a2-4245-45ea-892e-23c4eb8274bf.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96/format/webp'\n  },{\n    id: 4,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/13912264/751fad51-ffce-45c1-a629-0932a85de27a.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96/format/webp'\n  },{\n    id: 5,\n    title: 'Ghost',\n    desc: '写了79.7k字 · 125喜欢',\n    imgUrl: '//upload.jianshu.io/users/upload_avatars/11499568/b6c49855-229b-4984-8097-6731dbafbd25.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96/format/webp'\n  },],\n  articlePage: 1,\n  showScroll: false\n});\n\nconst changeHomeData = (state, action) => {\n  return state.merge({\n    topicList: fromJS(action.topicList),//这里是用fromJS将接收到的普通的JS数据m转换为immutable类型,防止数据类型改变\n    articleList: fromJS(action.articleList),\n    recommendList: fromJS(action.recommendList)\n  });\n}\n\nconst changeHomeList = (state, action) => {\n  return state.merge({\n    articleList: state.get('articleList').concat(action.list),\n    articlePage: action.nextPage\n  });\n}\n\nexport default (state = defaultState, action) => {\n  switch(action.type){\n    case constants.CHANGE_HOME_DATA:\n      return changeHomeData(state, action);\n    case constants.CHANGE_HOME_LIST:\n      // return state.set('articleList',state.get('articleList').concat(action.list))\n      return changeHomeList(state, action);\n    case constants.TOGGLE_SCROLL_TOP:\n      return state.set('showScroll', action.show)\n    default:\n      return state;\n  }\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/Users/lin/Desktop/Github/react_-Content_Platform-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lin/Desktop/Github/react_-Content_Platform-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lin/Desktop/Github/react_-Content_Platform-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lin/Desktop/Github/react_-Content_Platform-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lin/Desktop/Github/react_-Content_Platform-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lin/Desktop/Github/react_-Content_Platform-/src/pages/home/index.js\";\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { actionCreators } from './store';\nimport Topic from './components/Topic';\nimport List from './components/List';\nimport Recommend from './components/Recommend';\nimport Writer from './components/Writer';\nimport { BackTop } from './style';\nimport { HomeWrapper, HomeLeft, HomeRight } from './style'; //使用PureComponent代替Component提升性能\n//PureComponent当组件更新时，如果组件的 props 和 state 都没发生改变， render 方法就不会触发，省去 Virtual DOM 的生成和比对过程.\n//如果没有使用immutable的话 尽量不要使用PureComponent, 有坑...  所以使用的话尽量使用immutable管理数据\n\nvar Home =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Home, _PureComponent);\n\n  function Home() {\n    _classCallCheck(this, Home);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Home).apply(this, arguments));\n  }\n\n  _createClass(Home, [{\n    key: \"handleScrollTop\",\n    //UI组件中尽量不要有逻辑处理\n    value: function handleScrollTop() {\n      window.scrollTo(0, 0);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(HomeWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(HomeLeft, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"banner_img\",\n        alt: \"\",\n        src: \"//upload.jianshu.io/admin_banners/web_images/4577/353c8d29771d3c5c0bfbe92556fb65da78d3f3da.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }), React.createElement(Topic, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }), React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      })), React.createElement(HomeRight, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(Recommend, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(Writer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      })), this.props.showScroll ? React.createElement(BackTop, {\n        onClick: this.handleScrollTop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"\\uE603\")) : null);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.changeHomeData();\n      this.bindEvents();\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      //当组件即将被销毁的时候执行\n      window.removeEventListener('scroll', this.props.changeScrollShow);\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      window.addEventListener('scroll', this.props.changeScrollShow);\n    }\n  }]);\n\n  return Home;\n}(PureComponent);\n\nvar mapState = function mapState(state) {\n  return {\n    showScroll: state.getIn(['home', 'showScroll'])\n  };\n};\n\nvar mapDispatch = function mapDispatch(dispatch) {\n  return {\n    changeHomeData: function changeHomeData() {\n      var action = actionCreators.getHomeInfo();\n      dispatch(action);\n    },\n    changeScrollShow: function changeScrollShow() {\n      if (document.documentElement.scrollTop > 200) {\n        dispatch(actionCreators.toggleTopShow(true));\n      } else {\n        dispatch(actionCreators.toggleTopShow(false));\n      }\n    }\n  };\n};\n\nexport default connect(mapState, mapDispatch)(Home);","map":{"version":3,"sources":["/Users/lin/Desktop/Github/react_-Content_Platform-/src/pages/home/index.js"],"names":["React","PureComponent","connect","actionCreators","Topic","List","Recommend","Writer","BackTop","HomeWrapper","HomeLeft","HomeRight","Home","window","scrollTo","props","showScroll","handleScrollTop","changeHomeData","bindEvents","removeEventListener","changeScrollShow","addEventListener","mapState","state","getIn","mapDispatch","dispatch","action","getHomeInfo","document","documentElement","scrollTop","toggleTopShow"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,cAAT,QAA+B,SAA/B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,SACEC,WADF,EAEEC,QAFF,EAGEC,SAHF,QAIO,SAJP,C,CAMA;AACA;AACA;;IACMC,I;;;;;;;;;;;;;AAA4B;sCAEd;AAChBC,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD;;;6BAEQ;AACP,aACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,SAAS,EAAC,YADZ;AAEE,QAAA,GAAG,EAAC,EAFN;AAGE,QAAA,GAAG,EAAC,uJAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAME,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAOE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CADF,EAUE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAVF,EAcI,KAAKC,KAAL,CAAWC,UAAX,GAAyB,oBAAC,OAAD;AAAS,QAAA,OAAO,EAAE,KAAKC,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwC;AAAG,QAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAxC,CAAzB,GAAkH,IAdtH,CADF;AAkBD;;;wCAEmB;AAClB,WAAKF,KAAL,CAAWG,cAAX;AACA,WAAKC,UAAL;AACD;;;yCAEoB;AAAC;AACpBN,MAAAA,MAAM,CAACO,mBAAP,CAA2B,QAA3B,EAAqC,KAAKL,KAAL,CAAWM,gBAAhD;AACD;;;iCAEY;AACXR,MAAAA,MAAM,CAACS,gBAAP,CAAwB,QAAxB,EAAkC,KAAKP,KAAL,CAAWM,gBAA7C;AACD;;;;EAtCgBpB,a;;AA0CnB,IAAMsB,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD;AAAA,SAAY;AAC3BR,IAAAA,UAAU,EAAEQ,KAAK,CAACC,KAAN,CAAY,CAAC,MAAD,EAAQ,YAAR,CAAZ;AADe,GAAZ;AAAA,CAAjB;;AAIA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD;AAAA,SAAe;AACjCT,IAAAA,cADiC,4BAChB;AACf,UAAMU,MAAM,GAAGzB,cAAc,CAAC0B,WAAf,EAAf;AACAF,MAAAA,QAAQ,CAACC,MAAD,CAAR;AACD,KAJgC;AAKjCP,IAAAA,gBALiC,8BAKd;AACjB,UAAGS,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,GAAqC,GAAxC,EAA6C;AAC3CL,QAAAA,QAAQ,CAACxB,cAAc,CAAC8B,aAAf,CAA6B,IAA7B,CAAD,CAAR;AACD,OAFD,MAEK;AACHN,QAAAA,QAAQ,CAACxB,cAAc,CAAC8B,aAAf,CAA6B,KAA7B,CAAD,CAAR;AACD;AACF;AAXgC,GAAf;AAAA,CAApB;;AAcA,eAAe/B,OAAO,CAACqB,QAAD,EAAUG,WAAV,CAAP,CAA8Bd,IAA9B,CAAf","sourcesContent":["import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { actionCreators } from './store';\nimport Topic from './components/Topic';\nimport List from './components/List';\nimport Recommend from './components/Recommend';\nimport Writer from './components/Writer';\nimport { BackTop } from './style';\nimport { \n  HomeWrapper,\n  HomeLeft,\n  HomeRight\n} from './style';\n\n//使用PureComponent代替Component提升性能\n//PureComponent当组件更新时，如果组件的 props 和 state 都没发生改变， render 方法就不会触发，省去 Virtual DOM 的生成和比对过程.\n//如果没有使用immutable的话 尽量不要使用PureComponent, 有坑...  所以使用的话尽量使用immutable管理数据\nclass Home extends PureComponent {//UI组件中尽量不要有逻辑处理\n\n  handleScrollTop() {\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    return (\n      <HomeWrapper>\n        <HomeLeft>\n          <img \n            className=\"banner_img\"\n            alt=''\n            src='//upload.jianshu.io/admin_banners/web_images/4577/353c8d29771d3c5c0bfbe92556fb65da78d3f3da.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540' \n          />\n          <Topic />\n          <List />\n        </HomeLeft>\n        <HomeRight>\n          <Recommend />\n          <Writer />\n        </HomeRight>\n        { this.props.showScroll ?  <BackTop onClick={this.handleScrollTop}><i className=\"iconfont\">&#xe603;</i></BackTop> : null}\n      </HomeWrapper>\n    )\n  }\n\n  componentDidMount() {\n    this.props.changeHomeData();\n    this.bindEvents();\n  }\n\n  componentWillMount() {//当组件即将被销毁的时候执行\n    window.removeEventListener('scroll', this.props.changeScrollShow);\n  }\n\n  bindEvents() {\n    window.addEventListener('scroll', this.props.changeScrollShow);\n  }\n\n}\n\nconst mapState = (state) => ({\n  showScroll: state.getIn(['home','showScroll'])\n})\n\nconst mapDispatch = (dispatch) => ({\n  changeHomeData() {\n    const action = actionCreators.getHomeInfo();\n    dispatch(action);\n  },\n  changeScrollShow() {\n    if(document.documentElement.scrollTop > 200) {\n      dispatch(actionCreators.toggleTopShow(true))\n    }else{\n      dispatch(actionCreators.toggleTopShow(false))\n    }\n  }\n})\n\nexport default connect(mapState,mapDispatch)(Home);"]},"metadata":{},"sourceType":"module"}